# 文件整理工具

跨平台桌面文件整理工具，使用 Electron + React + TypeScript + Vite 构建。

## 功能特性

### 📁 智能文件分类整理
- **按文件类型（扩展名）**：自动将文件按扩展名分类到对应文件夹
- **按修改日期**：支持按年/月/日三级时间维度分类文件
- **按文件大小**：自定义文件大小分类范围（如：小/中/大）
- **自定义正则表达式**：灵活配置个性化分类规则
- **文件提取**：从子目录中提取指定类型文件到当前目录

### 🔍 实时预览
- **三种视图模式**：列表视图、树形视图、网格视图自由切换
- **预览整理结果**：执行前预览文件移动效果
- **冲突处理**：支持跳过、覆盖、重命名三种冲突解决策略

### 🖼️ 图片查看器
- **流畅浏览**：支持缩放（20%-500%）、旋转、水平/垂直翻转
- **信息展示**：显示EXIF信息、颜色调色板
- **元数据管理**：支持标签和描述的编辑与保存
- **快捷操作**：键盘快捷键支持（方向键导航、R旋转、F切换视图等）

### 🤖 AI智能图片分类
- **深度学习识别**：基于ONNX模型进行图像内容识别
- **25+细分类别**：人物、人像、自拍、狗、猫、鸟类、野生动物、海洋生物、昆虫、宠物、风景、山脉、海滩、日落、森林、城市风光、夜景、建筑、地标、室内、街道、食物、饮品、甜点、车辆、飞机、船舶、艺术、科技、文档等
- **置信度显示**：直观展示识别结果的可信程度
- **统计面板**：实时展示各类别图片数量统计

### 🔍 相似照片检测
- **智能检测**：基于感知哈希算法检测重复或相似照片
- **分组展示**：将相似照片分组显示，便于批量处理
- **进度追踪**：实时显示扫描进度和当前处理文件
- **节省空间**：帮助清理冗余文件，释放存储空间

### 📊 文件浏览与管理
- **目录导航**：支持多层级目录浏览
- **文件筛选**：按类型筛选（图片、视频、音频、文档、压缩文件等）
- **历史记录**：自动记录访问过的目录，支持快速跳转
- **子目录包含**：可选是否包含子目录文件

## 快速开始

### 安装依赖

```bash
npm install
```

### 开发模式

```bash
npm run dev
```

这将启动 Electron 应用和 Vite 开发服务器。

#### Windows 用户

在 Windows 系统上，您可以双击运行 `dev.bat` 文件，或在命令提示符/PowerShell 中执行：

```bash
dev.bat
```

或

```powershell
.\dev.bat
```

这将执行相同的开发启动命令。

### 构建应用

```bash
# 构建生产版本
npm run build

# 打包为可执行文件
npm run dist
```

## 项目结构

```
file-organizer/
├── electron/           # Electron 主进程代码
│   ├── main/          # 主进程入口和 IPC 处理器
│   └── preload/       # 预加载脚本
├── src/               # React 渲染进程
│   ├── components/    # React 组件
│   │   ├── ControlPanel.tsx        # 整理控制面板
│   │   ├── FileList.tsx            # 文件列表
│   │   ├── FileTree.tsx            # 文件树
│   │   ├── ImageViewer/            # 图片查看器
│   │   ├── ImageClassification/   # 图片分类
│   │   ├── SimilarityDetection/    # 相似性检测
│   │   └── ...
│   ├── hooks/         # 自定义 Hooks
│   ├── stores/        # 状态管理（Zustand）
│   ├── utils/         # 工具函数
│   └── types/         # TypeScript 类型定义
├── models/            # AI 模型文件目录
└── public/            # 静态资源
```

## 技术栈

- **Electron 28+** - 跨平台桌面应用框架
- **React 18+** - UI 框架
- **TypeScript 5+** - 类型安全
- **Vite 5+** - 构建工具
- **Ant Design 5+** - UI 组件库
- **Zustand** - 轻量级状态管理
- **ONNX Runtime** - 机器学习推理引擎
- **Sharp** - 高性能图像处理
- **exifr** - EXIF 数据解析
- **fs-extra** - 文件系统操作
- **chokidar** - 文件监视

## 使用说明

### 文件整理

1. **选择目录**：点击"选择目录"按钮，选择要整理的文件夹
2. **选择分类方式**：在控制面板中选择分类规则（按类型/日期/大小/自定义）
3. **预览结果**：点击"预览整理结果"查看文件移动预览
4. **开始整理**：确认无误后点击"开始整理"执行文件整理

### 图片分类

1. 下载所需的分类模型（约14MB）
2. 选择包含图片的目录
3. 点击"开始分类"执行AI识别
4. 查看分类结果，支持按类别筛选和查看详情

### 相似照片检测

1. 配置扫描目录和相似度阈值
2. 点击"开始扫描"检测相似照片
3. 查看检测结果，分组管理相似照片
4. 选择保留或删除重复文件

## 系统要求

- Windows 10+ / macOS 10.15+ / Linux (Ubuntu 20.04+)
- 至少 4GB RAM（推荐 8GB）
- 约 100MB 磁盘空间（不含用户文件）

## 许可证

MIT
